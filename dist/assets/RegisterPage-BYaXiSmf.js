import{u as b,j as e,a as g,L as p,z as m,b as h}from"./index-CzVdNPn5.js";import{u as f,a as j}from"./index.esm-G7npbGOv.js";import{t as y,r as N}from"./auth-Br9gPguQ.js";const S=()=>{var d,l,o,i;const c=b(),{register:r,handleSubmit:n,formState:{errors:s}}=f({resolver:y(N)}),t=j({mutationFn:async a=>{const u={...a,address:[a.address]};return(await h.post("/auth/register",u)).data},onSuccess:()=>{m.success("Registration successful! Please login."),c("/login")},onError:a=>{console.error("Registration failed",a),m.error("Registration failed. Please try again.")}}),x=a=>{t.mutate(a)};return e.jsxs("div",{className:"max-w-2xl mx-auto mt-10 bg-white p-8 rounded-lg shadow-md mb-10",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Create an Account"}),e.jsxs("form",{onSubmit:n(x),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Personal Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),e.jsx("input",{...r("name"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),s.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("input",{...r("phoneNumber"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),s.phoneNumber&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.phoneNumber.message})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("input",{...r("email"),type:"email",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),s.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{...r("password"),type:"password",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),s.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.password.message})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b pb-2",children:"Address"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Street Address"}),e.jsx("input",{...r("address.street"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),((d=s.address)==null?void 0:d.street)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.address.street.message})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("input",{...r("address.city"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),((l=s.address)==null?void 0:l.city)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.address.city.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),e.jsx("input",{...r("address.state"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),((o=s.address)==null?void 0:o.state)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.address.state.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Zip Code"}),e.jsx("input",{...r("address.zipCode"),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),((i=s.address)==null?void 0:i.zipCode)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.address.zipCode.message})]})]})]}),e.jsx("button",{type:"submit",disabled:t.isPending,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:t.isPending?e.jsx(g,{className:"animate-spin h-5 w-5"}):"Register"})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account? ",e.jsx(p,{to:"/login",className:"text-blue-600 hover:underline",children:"Login here"})]})})]})};export{S as default};
